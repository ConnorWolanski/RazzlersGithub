{"ast":null,"code":"exports.getMovieList = function () {\n  return getMovieList();\n};\n\nfunction getMovieList() {\n  return new Promise(function (resolve, reject) {\n    var transport = {\n      headers: {\n        'Content-Type': \"application/json\"\n      },\n      method: \"GET\"\n    };\n    var url = \"http://razzlers.me:3001/api/getData/getMovieList\";\n    fetch(url, transport).then(function (result) {\n      return result.json();\n    }).then(function (json) {\n      resolve(json);\n    }).catch(function (err) {\n      throw new Error(err);\n    });\n  });\n}\n\nexports.getUsersFriends = function (user) {\n  return getUsersFriends(user);\n};\n\nfunction getUsersFriends(user) {\n  return new Promise(function (resolve, reject) {\n    var data = '{\"username\": \"' + user + '\"}';\n    data = JSON.parse(data);\n    var transport = {\n      headers: {\n        'Content-Type': \"application/json\"\n      },\n      method: \"PUT\",\n      body: JSON.stringify(data)\n    };\n    var url = \"http://razzlers.me:3001/api/getData/getUsersFriends\";\n    fetch(url, transport).then(function (result) {\n      return result.json();\n    }).then(function (json) {\n      //console.log(json);\n      resolve(json);\n    }).catch(function (err) {\n      throw new Error(err);\n    });\n  });\n}\n\nexports.getShowList = function () {\n  return getShowList();\n};\n\nfunction getShowList() {\n  return new Promise(function (resolve, reject) {\n    var transport = {\n      headers: {\n        'Content-Type': \"application/json\"\n      },\n      method: \"GET\"\n    };\n    var url = \"http://razzlers.me:3001/api/getData/getShowList\";\n    fetch(url, transport).then(function (result) {\n      return result.json();\n    }).then(function (json) {\n      resolve(json);\n    }).catch(function (err) {\n      throw new Error(err);\n    });\n  });\n}\n\nexports.getSubscribedMovieList = function () {\n  return getSubscribedMList();\n};\n\nfunction getSubscribedMList() {\n  return new Promise(function (resolve, reject) {\n    var username = window.localStorage.getItem(\"Razzlers_Username\"); // check if username is undefined\n\n    var data = '{\"username\": \"' + username + '\"}';\n    data = JSON.parse(data);\n    var transport = {\n      headers: {\n        'Content-Type': \"application/json\"\n      },\n      method: \"PUT\",\n      body: JSON.stringify(data)\n    };\n    var url = \"http://razzlers.me:3001/api/getData/getSubscribedMovies\";\n    fetch(url, transport).then(function (result) {\n      return result.json();\n    }).then(function (json) {\n      resolve(json);\n    }).catch(function (err) {\n      throw new Error(err);\n    });\n  });\n}\n\nexports.getSubscribedShowList = function () {\n  return getSubscribedSList();\n};\n\nfunction getSubscribedSList() {\n  return new Promise(function (resolve, reject) {\n    var username = window.localStorage.getItem(\"Razzlers_Username\"); // check if username is undefined\n\n    var data = '{\"username\": \"' + username + '\"}';\n    data = JSON.parse(data);\n    var transport = {\n      headers: {\n        'Content-Type': \"application/json\"\n      },\n      method: \"PUT\",\n      body: JSON.stringify(data)\n    };\n    var url = \"http://razzlers.me:3001/api/getData/getSubscribedShows\";\n    fetch(url, transport).then(function (result) {\n      return result.json();\n    }).then(function (json) {\n      resolve(json);\n    }).catch(function (err) {\n      throw new Error(err);\n    });\n  });\n}\n\nexports.updateLocalSubscribedLists = function () {\n  return new Promise(function (resolve, reject) {\n    getSubscribedSList().then(function (result) {\n      var showList = [];\n\n      if (Array.isArray(result)) {\n        result.forEach(function (show) {\n          showList[showList.length] = show.tv_show_id;\n        });\n        localStorage.setItem(\"Razzlers_Subscribed_Shows\", JSON.stringify(showList));\n      } else {\n        localStorage.setItem(\"Razzlers_Subscribed_Shows\", null);\n      }\n    });\n    getSubscribedMList().then(function (result) {\n      var movieList = [];\n\n      if (Array.isArray(result)) {\n        result.forEach(function (movie) {\n          movieList[movieList.length] = movie.movie_id;\n        });\n        localStorage.setItem(\"Razzlers_Subscribed_Movies\", JSON.stringify(movieList));\n      } else {\n        localStorage.setItem(\"Razzlers_Subscribed_Movies\", null);\n      }\n\n      resolve(true);\n    });\n  });\n};\n\nexports.forceUpdateMessages = function () {\n  var sender = window.localStorage.getItem(\"Razzlers_Username\");\n  var recip = document.getElementById(\"messageTitle\").innerHTML;\n\n  if (sender !== recip) {\n    getUsersMessages(sender, recip).then(function (result) {\n      document.getElementById(\"textMessages\").innerHTML = JSON.stringify(result);\n    });\n  }\n};\n\nfunction getUsersMessages(sender, recipient) {\n  return new Promise(function (resolve, reject) {\n    var data = '{\"sender\": \"' + sender + '\", \"recipient\": \"' + recipient + '\"}';\n    data = JSON.parse(data);\n    var transport = {\n      headers: {\n        'Content-Type': \"application/json\"\n      },\n      method: \"PUT\",\n      body: JSON.stringify(data)\n    };\n    var url = \"http://localhost:3001/api/getData/getUsersMessages\";\n    fetch(url, transport).then(function (result) {\n      return result.json();\n    }).then(function (json) {\n      resolve(json);\n    }).catch(function (err) {\n      throw new Error(err);\n    });\n  });\n}","map":{"version":3,"sources":["C:\\Users\\Connor\\RazzlersGithub\\client\\src\\Helpers\\UtilityFunctions.js"],"names":["exports","getMovieList","Promise","resolve","reject","transport","headers","method","url","fetch","then","result","json","catch","err","Error","getUsersFriends","user","data","JSON","parse","body","stringify","getShowList","getSubscribedMovieList","getSubscribedMList","username","window","localStorage","getItem","getSubscribedShowList","getSubscribedSList","updateLocalSubscribedLists","showList","Array","isArray","forEach","show","length","tv_show_id","setItem","movieList","movie","movie_id","forceUpdateMessages","sender","recip","document","getElementById","innerHTML","getUsersMessages","recipient"],"mappings":"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","sourcesContent":["exports.getMovieList = function()\r\n{\r\n  return getMovieList();\r\n}\r\n\r\nfunction getMovieList()\r\n{\r\n  return new Promise(function(resolve, reject)\r\n  {\r\n    var transport = {\r\n      headers: {\r\n        'Content-Type': \"application/json\"\r\n      },\r\n      method: \"GET\"\r\n    };\r\n    const url = \"http://razzlers.me:3001/api/getData/getMovieList\";\r\n    fetch(url, transport).then(result => result.json()).then(json => {\r\n      resolve(json);\r\n    }).catch(err => {\r\n      throw new Error(err);\r\n    });\r\n  });\r\n}\r\n\r\nexports.getUsersFriends = function(user)\r\n{\r\n  return getUsersFriends(user);\r\n}\r\n\r\nfunction getUsersFriends(user) {\r\n  return new Promise(function(resolve, reject) {\r\n    var data = '{\"username\": \"' + user + '\"}';\r\n    data = JSON.parse(data);\r\n    var transport = {\r\n      headers: {\r\n        'Content-Type': \"application/json\"\r\n      },\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data)\r\n    };\r\n    const url = \"http://razzlers.me:3001/api/getData/getUsersFriends\";\r\n    fetch(url, transport).then(result => result.json()).then(json => {\r\n      //console.log(json);\r\n      resolve(json);\r\n    }).catch(err => {\r\n      throw new Error(err);\r\n    });\r\n  });\r\n}\r\n\r\nexports.getShowList = function()\r\n{\r\n  return getShowList();\r\n}\r\n\r\n\r\nfunction getShowList()\r\n{\r\n  return new Promise(function(resolve, reject)\r\n  {\r\n    var transport = {\r\n      headers: {\r\n        'Content-Type': \"application/json\"\r\n      },\r\n      method: \"GET\"\r\n    };\r\n    const url = \"http://razzlers.me:3001/api/getData/getShowList\";\r\n    fetch(url, transport).then(result => result.json()).then(json => {\r\n      resolve(json);\r\n    }).catch(err => {\r\n      throw new Error(err);\r\n    });\r\n  });\r\n}\r\n\r\nexports.getSubscribedMovieList = function()\r\n{\r\n  return getSubscribedMList();\r\n}\r\n\r\nfunction getSubscribedMList()\r\n{\r\n  return new Promise(function(resolve, reject)\r\n  {\r\n    var username = window.localStorage.getItem(\"Razzlers_Username\");\r\n    // check if username is undefined\r\n    var data = '{\"username\": \"' + username + '\"}';\r\n    data = JSON.parse(data);\r\n    var transport = {\r\n      headers: {\r\n        'Content-Type': \"application/json\"\r\n      },\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data)\r\n    };\r\n    const url = \"http://razzlers.me:3001/api/getData/getSubscribedMovies\";\r\n    fetch(url, transport).then(result => result.json()).then(json => {\r\n      resolve(json);\r\n    }).catch(err => {\r\n      throw new Error(err);\r\n    });\r\n  });\r\n}\r\n\r\nexports.getSubscribedShowList = function()\r\n{\r\n  return getSubscribedSList();\r\n}\r\n\r\nfunction getSubscribedSList()\r\n{\r\n  return new Promise(function(resolve, reject)\r\n  {\r\n    var username = window.localStorage.getItem(\"Razzlers_Username\");\r\n    // check if username is undefined\r\n    var data = '{\"username\": \"' + username + '\"}';\r\n    data = JSON.parse(data);\r\n    var transport = {\r\n      headers: {\r\n        'Content-Type': \"application/json\"\r\n      },\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data)\r\n    };\r\n    const url = \"http://razzlers.me:3001/api/getData/getSubscribedShows\";\r\n    fetch(url, transport).then(result => result.json()).then(json => {\r\n      resolve(json);\r\n    }).catch(err => {\r\n      throw new Error(err);\r\n    });\r\n  });\r\n}\r\n\r\nexports.updateLocalSubscribedLists = function()\r\n{\r\n  return new Promise(function(resolve, reject)\r\n  {\r\n    getSubscribedSList().then(result => {\r\n      var showList = [];\r\n      if(Array.isArray(result))\r\n      {\r\n        result.forEach(function(show)\r\n        {\r\n          showList[showList.length] = show.tv_show_id;\r\n        });\r\n        localStorage.setItem(\"Razzlers_Subscribed_Shows\", JSON.stringify(showList));\r\n      } else {\r\n        localStorage.setItem(\"Razzlers_Subscribed_Shows\", null);\r\n      }\r\n    });\r\n    getSubscribedMList().then(result =>\r\n    {\r\n      var movieList = [];\r\n      if(Array.isArray(result))\r\n      {\r\n        result.forEach(function(movie)\r\n        {\r\n          movieList[movieList.length] = movie.movie_id;\r\n        });\r\n        localStorage.setItem(\"Razzlers_Subscribed_Movies\", JSON.stringify(movieList));\r\n      } else {\r\n        localStorage.setItem(\"Razzlers_Subscribed_Movies\", null);\r\n      }\r\n      resolve(true);\r\n    });\r\n  });\r\n}\r\n\r\nexports.forceUpdateMessages = function()\r\n{\r\n  var sender = window.localStorage.getItem(\"Razzlers_Username\");\r\n  var recip = document.getElementById(\"messageTitle\").innerHTML;\r\n  if(sender !== recip)\r\n  {\r\n    getUsersMessages(sender, recip).then(result => {\r\n      document.getElementById(\"textMessages\").innerHTML = JSON.stringify(result);\r\n    });\r\n  }\r\n}\r\n\r\nfunction getUsersMessages(sender, recipient) {\r\n  return new Promise(function(resolve, reject) {\r\n    var data = '{\"sender\": \"' + sender + '\", \"recipient\": \"' + recipient + '\"}';\r\n    data = JSON.parse(data);\r\n    var transport = {\r\n      headers: {\r\n        'Content-Type': \"application/json\"\r\n      },\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data)\r\n    };\r\n    const url = \"http://localhost:3001/api/getData/getUsersMessages\";\r\n    fetch(url, transport).then(result => result.json()).then(json => {\r\n      resolve(json);\r\n    }).catch(err => {\r\n      throw new Error(err);\r\n    });\r\n  });\r\n}\r\n"]},"metadata":{},"sourceType":"module"}