{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\ronno\\\\OneDrive\\\\Documents\\\\RazzlersGithub\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\ronno\\\\OneDrive\\\\Documents\\\\RazzlersGithub\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\ronno\\\\OneDrive\\\\Documents\\\\RazzlersGithub\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\ronno\\\\OneDrive\\\\Documents\\\\RazzlersGithub\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\ronno\\\\OneDrive\\\\Documents\\\\RazzlersGithub\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\ronno\\\\OneDrive\\\\Documents\\\\RazzlersGithub\\\\client\\\\src\\\\HTMLComponents\\\\FriendCard.js\";\nimport React from 'react';\nimport envelope from '../images/envelope.png';\n\nvar utilFunc = require('../Helpers/UtilityFunctions');\n\nvar FriendCard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FriendCard, _React$Component);\n\n  function FriendCard(props) {\n    var _this;\n\n    _classCallCheck(this, FriendCard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FriendCard).call(this, props));\n    _this.state = {\n      username: props.username,\n      isFriends: false,\n      container: props.container\n    };\n    checkIfFriends(_this.props).then(function (boolFriend) {\n      _this.setState({\n        isFriends: boolFriend.areFriends\n      });\n    });\n    return _this;\n  }\n\n  _createClass(FriendCard, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var username = this.props.username;\n      var areFriends = this.state.isFriends; // can be changed to const {username, areFriends} = this.state; ?????\n\n      var container = this.state.container;\n      return React.createElement(\"div\", {\n        className: \"friendCard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, React.createElement(\"font\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }, username), React.createElement(\"button\", {\n        className: \"addButton\",\n        hidden: areFriends,\n        onClick: function onClick() {\n          addFriend(username).then(function (result) {\n            checkIfFriends({\n              \"username\": username\n            }).then(function (boolFriend) {\n              _this2.setState({\n                isFriends: boolFriend.areFriends\n              });\n            });\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, \"+\"), React.createElement(\"button\", {\n        className: \"iconButton\",\n        hidden: !areFriends,\n        onClick: function onClick() {\n          document.getElementById(\"messageTitle\").innerHTML = username;\n          document.getElementById(\"friends\").hidden = true;\n          document.getElementById(\"addFriends\").hidden = true;\n          document.getElementById(\"messages\").hidden = false;\n          document.getElementById('bottom').scrollIntoView({\n            behavior: \"smooth\"\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: envelope,\n        alt: \"envelope\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return FriendCard;\n}(React.Component);\n\nfunction addFriend(addedFriend) {\n  return new Promise(function (resolve, reject) {\n    var data = '{\"username\": \"' + window.localStorage.getItem(\"Razzlers_Username\") + '\", \"friend_username\": \"' + addedFriend + '\"}';\n    data = JSON.parse(data);\n    var transport = {\n      headers: {\n        'Content-Type': \"application/json\"\n      },\n      method: \"PUT\",\n      body: JSON.stringify(data)\n    };\n    var url = \"http://razzlers.me:3001/api/addFriend\";\n    fetch(url, transport).then(function (result) {\n      return result.json();\n    }).then(function (json) {\n      resolve(json);\n    }).catch(function (err) {\n      throw new Error(err);\n    });\n  });\n}\n\nfunction checkIfFriends(username) {\n  return new Promise(function (resolve, reject) {\n    utilFunc.getUsersFriends(window.localStorage.getItem(\"Razzlers_Username\")).then(function (friendsList) {\n      var areFriends = false;\n\n      if (friendsList.friends.includes(username.username) || username.username.toLowerCase() === window.localStorage.getItem(\"Razzlers_Username\").toLowerCase()) {\n        areFriends = true;\n      }\n\n      resolve({\n        areFriends: areFriends\n      });\n    });\n  });\n}\n\nexport default FriendCard;","map":{"version":3,"sources":["C:\\Users\\ronno\\OneDrive\\Documents\\RazzlersGithub\\client\\src\\HTMLComponents\\FriendCard.js"],"names":["React","envelope","utilFunc","require","FriendCard","props","state","username","isFriends","container","checkIfFriends","then","boolFriend","setState","areFriends","addFriend","result","document","getElementById","innerHTML","hidden","scrollIntoView","behavior","Component","addedFriend","Promise","resolve","reject","data","window","localStorage","getItem","JSON","parse","transport","headers","method","body","stringify","url","fetch","json","catch","err","Error","getUsersFriends","friendsList","friends","includes","toLowerCase"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport envelope from '../images/envelope.png';\r\nconst utilFunc = require('../Helpers/UtilityFunctions');\r\n\r\nclass FriendCard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: props.username,\r\n      isFriends: false,\r\n      container: props.container\r\n    };\r\n    checkIfFriends(this.props).then(boolFriend => {\r\n      this.setState({isFriends: boolFriend.areFriends});\r\n    });\r\n  }\r\n\r\n  render()\r\n  {\r\n    const {username} = this.props;\r\n    const areFriends = this.state.isFriends;\r\n    // can be changed to const {username, areFriends} = this.state; ?????\r\n    const container = this.state.container;\r\n    return (\r\n      <div className=\"friendCard\">\r\n        <font>{username}</font>\r\n        <button className=\"addButton\" hidden={areFriends} onClick={() => {\r\n            addFriend(username).then(result => {\r\n              checkIfFriends({\"username\": username}).then(boolFriend => {\r\n                this.setState({isFriends: boolFriend.areFriends});\r\n              });\r\n            });\r\n          }}>+</button>\r\n        <button className=\"iconButton\" hidden ={!areFriends} onClick={() => {\r\n            document.getElementById(\"messageTitle\").innerHTML = username;\r\n            document.getElementById(\"friends\").hidden = true;\r\n            document.getElementById(\"addFriends\").hidden = true;\r\n            document.getElementById(\"messages\").hidden = false;\r\n            document.getElementById('bottom').scrollIntoView({behavior: \"smooth\"});\r\n          }}>\r\n          <img src={envelope} alt=\"envelope\"/>\r\n        </button>\r\n      </div>);\r\n  }\r\n}\r\n\r\nfunction addFriend(addedFriend)\r\n{\r\n  return new Promise(function(resolve, reject) {\r\n    var data = '{\"username\": \"' + window.localStorage.getItem(\"Razzlers_Username\") + '\", \"friend_username\": \"' + addedFriend + '\"}';\r\n    data = JSON.parse(data);\r\n    var transport = {\r\n      headers: {\r\n        'Content-Type': \"application/json\"\r\n      },\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data)\r\n    };\r\n    const url = \"http://razzlers.me:3001/api/addFriend\";\r\n    fetch(url, transport).then(result => result.json()).then(json => {\r\n      resolve(json);\r\n    }).catch(err => {\r\n      throw new Error(err);\r\n    });\r\n  });\r\n}\r\n\r\nfunction checkIfFriends(username)\r\n{\r\n  return new Promise(function(resolve, reject)\r\n  {\r\n    utilFunc.getUsersFriends(window.localStorage.getItem(\"Razzlers_Username\")).then(friendsList =>\r\n    {\r\n      var areFriends = false;\r\n      if(friendsList.friends.includes(username.username) || username.username.toLowerCase() === window.localStorage.getItem(\"Razzlers_Username\").toLowerCase()) {\r\n        areFriends = true;\r\n      }\r\n      resolve({areFriends});\r\n    });\r\n  });\r\n}\r\n\r\nexport default FriendCard;\r\n"]},"metadata":{},"sourceType":"module"}