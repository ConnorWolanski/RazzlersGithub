{"ast":null,"code":"import _classCallCheck from \"D:\\\\RazzlersGithub\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\RazzlersGithub\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\RazzlersGithub\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\RazzlersGithub\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\RazzlersGithub\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\RazzlersGithub\\\\client\\\\src\\\\pages\\\\SignUp.js\";\nimport React from \"react\";\nimport '../style.css';\n\nvar SignUp =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SignUp, _React$Component);\n\n  function SignUp() {\n    _classCallCheck(this, SignUp);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SignUp).apply(this, arguments));\n  }\n\n  _createClass(SignUp, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"bg2_center\",\n        align: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 8\n        },\n        __self: this\n      }, React.createElement(\"font\", {\n        size: \"26\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 9\n        },\n        __self: this\n      }, \"Sign Up\"), React.createElement(\"p\", {\n        hidden: true,\n        id: \"invalidMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 10\n        },\n        __self: this\n      }, React.createElement(\"font\", {\n        className: \"error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 11\n        },\n        __self: this\n      }, \"Username or password is invalid, please try again!\")), React.createElement(\"p\", {\n        hidden: true,\n        id: \"invalidCharacters\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      }, React.createElement(\"font\", {\n        className: \"error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14\n        },\n        __self: this\n      }, \"No field can not contain special characters and must be 16 characters or less!\")), React.createElement(\"p\", {\n        hidden: true,\n        id: \"duplicateUsername\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        },\n        __self: this\n      }, React.createElement(\"font\", {\n        className: \"error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        },\n        __self: this\n      }, \"Username is already taken!\")), React.createElement(\"p\", {\n        hidden: true,\n        id: \"uncheckedTOS\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      }, React.createElement(\"font\", {\n        className: \"error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }, \"Please check the Terms and Conditions and try again!\")), React.createElement(\"p\", {\n        hidden: true,\n        id: \"blankSpacesMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      }, React.createElement(\"font\", {\n        className: \"error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, \"Please fill out all required sections and try again!\")), React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Username\",\n        className: \"input\",\n        id: \"usernameInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Email\",\n        className: \"input\",\n        id: \"emailInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        className: \"input\",\n        id: \"passwordInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"First Name\",\n        className: \"input\",\n        id: \"firstNameInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Last Name\",\n        className: \"input\",\n        id: \"lastNameInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"tos\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        name: \"terms\",\n        id: \"checkboxTOS\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), React.createElement(\"font\", {\n        color: \"black\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \" I Agree Terms & Conditions\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: \"button2\",\n        id: \"registerButton\",\n        onClick: function onClick() {\n          document.getElementById(\"invalidMessage\").hidden = true;\n          document.getElementById(\"invalidCharacters\").hidden = true;\n          document.getElementById(\"duplicateUsername\").hidden = true;\n          document.getElementById(\"uncheckedTOS\").hidden = true;\n          document.getElementById(\"blankSpacesMessage\").hidden = true;\n          var hadError = false;\n\n          if (document.getElementById(\"usernameInput\").value.trim() === \"\" || document.getElementById(\"emailInput\").value.trim() === \"\" || document.getElementById(\"passwordInput\").value.trim() === \"\" || document.getElementById(\"firstNameInput\").value.trim() === \"\" || document.getElementById(\"lastNameInput\").value.trim() === \"\") {\n            document.getElementById(\"blankSpacesMessage\").hidden = false;\n            hadError = true;\n          } else {\n            document.getElementById(\"blankSpacesMessage\").hidden = true;\n          }\n\n          if (document.getElementById(\"checkboxTOS\").checked === false) {\n            document.getElementById(\"uncheckedTOS\").hidden = false;\n            hadError = true;\n          } else {\n            document.getElementById(\"uncheckedTOS\").hidden = true;\n          }\n\n          if (hadError === true) {\n            return;\n          }\n\n          checkForInvalid(document.getElementById(\"usernameInput\").value.trim()).then(function (usernameInvalidity) {\n            checkForInvalid(document.getElementById(\"emailInput\").value.trim()).then(function (emailInvalidity) {\n              checkForInvalid(document.getElementById(\"passwordInput\").value.trim()).then(function (passwordInvalidity) {\n                checkForInvalid(document.getElementById(\"firstNameInput\").value.trim()).then(function (firstNameInvalidity) {\n                  checkForInvalid(document.getElementById(\"lastNameInput\").value.trim()).then(function (lastNameInvalidity) {\n                    var validity = !usernameInvalidity && !emailInvalidity && !passwordInvalidity && !firstNameInvalidity && !lastNameInvalidity;\n                    console.log(validity);\n\n                    if (validity) {\n                      register(document.getElementById(\"usernameInput\").value, document.getElementById(\"emailInput\").value, document.getElementById(\"passwordInput\").value, document.getElementById(\"firstNameInput\").value, document.getElementById(\"lastNameInput\").value).then(function (response) {\n                        if (response.result === \"true\") {\n                          // registration was successful\n                          window.localStorage.setItem(\"Razzlers_Username\", document.getElementById(\"usernameInput\").value);\n                          window.localStorage.setItem(\"Razzlers_Subscribed_Shows\", 0);\n                          window.localStorage.setItem(\"Razzlers_Subscribed_Movies\", 0);\n                          window.location.href = '/';\n                        } else if (response.result === \"duplicate\") {\n                          document.getElementById(\"duplicateUsername\").hidden = false;\n                        } else {\n                          // display error, reprompt for information\n                          document.getElementById(\"invalidMessage\").hidden = false;\n                        }\n                      });\n                    } else {\n                      document.getElementById(\"invalidCharacters\").hidden = false;\n                    }\n                  });\n                });\n              });\n            });\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Register\"), React.createElement(\"button\", {\n        className: \"button2\",\n        id: \"toLoginPageButton\",\n        onClick: function onClick() {\n          return window.location.href = 'login';\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Login\"));\n    }\n  }]);\n\n  return SignUp;\n}(React.Component);\n\nfunction checkForInvalid(input) {\n  return new Promise(function (resolve, reject) {\n    var containsInvalid = false;\n\n    if (input.length > 32) {\n      containsInvalid = true;\n    }\n\n    for (var i = 0; i < input.length; i++) {\n      if (input.charCodeAt(i) < 48 && input.charCodeAt(i) !== 46) {\n        containsInvalid = true;\n      } else if (input.charCodeAt(i) > 57 && input.charCodeAt(i) < 64) {\n        // : - @\n        containsInvalid = true;\n      } else if (input.charCodeAt(i) > 90 && input.charCodeAt(i) < 97) {\n        // [ - `\n        containsInvalid = true;\n      } else if (input.charCodeAt(i) > 122) {\n        containsInvalid = true;\n      }\n    }\n\n    resolve(containsInvalid);\n  });\n} //  function for attempting to register the user to the DB\n\n\nfunction register(inUsername, inEmail, inPassword, inFirstName, inLastName) {\n  return new Promise(function (resolve, reject) {\n    var data = '{\"username\": \"' + inUsername + '\", \"password\": \"' + inPassword + '\", \"email\": \"' + inEmail + '\", \"first_name\": \"' + inFirstName + '\", \"last_name\": \"' + inLastName + '\"}';\n    data = JSON.parse(data);\n    var transport = {\n      headers: {\n        'Content-Type': \"application/json\"\n      },\n      method: \"PUT\",\n      body: JSON.stringify(data)\n    };\n    var url = \"//razzlers.me:3001/api/register\";\n    fetch(url, transport).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      // needs to return true or false based on if registration is successful\n      // if true, return true and set username in localStorage\n      // if false, return what went wrong, if multiple things, put inside array[]\n      resolve(json);\n    });\n  });\n}\n\nexport default SignUp;","map":{"version":3,"sources":["D:\\RazzlersGithub\\client\\src\\pages\\SignUp.js"],"names":["React","SignUp","document","getElementById","hidden","hadError","value","trim","checked","checkForInvalid","then","usernameInvalidity","emailInvalidity","passwordInvalidity","firstNameInvalidity","lastNameInvalidity","validity","console","log","register","response","result","window","localStorage","setItem","location","href","Component","input","Promise","resolve","reject","containsInvalid","length","i","charCodeAt","inUsername","inEmail","inPassword","inFirstName","inLastName","data","JSON","parse","transport","headers","method","body","stringify","url","fetch","json"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport '../style.css';\r\nclass SignUp extends React.Component\r\n{\r\n  render()\r\n  {\r\n    return (\r\n      <div className = \"bg2_center\" align = \"left\">\r\n        <font size= \"26\">Sign Up</font>\r\n        <p hidden id=\"invalidMessage\">\r\n          <font className=\"error\">Username or password is invalid, please try again!</font>\r\n        </p>\r\n        <p hidden id=\"invalidCharacters\">\r\n          <font className=\"error\">No field can not contain special characters and must be 16 characters or less!</font>\r\n        </p>\r\n        <p hidden id=\"duplicateUsername\">\r\n          <font className=\"error\">Username is already taken!</font>\r\n        </p>\r\n        <p hidden id=\"uncheckedTOS\">\r\n          <font className=\"error\">Please check the Terms and Conditions and try again!</font>\r\n        </p>\r\n        <p hidden id=\"blankSpacesMessage\">\r\n          <font className=\"error\">Please fill out all required sections and try again!</font>\r\n        </p>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Username\"\r\n          className=\"input\"\r\n          id=\"usernameInput\"/>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          className=\"input\"\r\n          id=\"emailInput\"/>\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          className=\"input\"\r\n          id=\"passwordInput\"/>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"First Name\"\r\n          className=\"input\"\r\n          id=\"firstNameInput\"/>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Last Name\"\r\n          className=\"input\"\r\n          id=\"lastNameInput\"/>\r\n        <div className=\"tos\">\r\n          <input type=\"checkbox\" name=\"terms\" id=\"checkboxTOS\"></input>\r\n          <font color=\"black\"> I Agree Terms & Conditions</font>\r\n          <br></br>\r\n        </div>\r\n        <button className=\"button2\" id=\"registerButton\" onClick={() =>\r\n          {\r\n            document.getElementById(\"invalidMessage\").hidden = true;\r\n            document.getElementById(\"invalidCharacters\").hidden = true;\r\n            document.getElementById(\"duplicateUsername\").hidden = true;\r\n            document.getElementById(\"uncheckedTOS\").hidden = true;\r\n            document.getElementById(\"blankSpacesMessage\").hidden = true;\r\n            var hadError = false;\r\n            if(document.getElementById(\"usernameInput\").value.trim() === \"\" || document.getElementById(\"emailInput\").value.trim() === \"\" ||\r\n                document.getElementById(\"passwordInput\").value.trim() === \"\" || document.getElementById(\"firstNameInput\").value.trim() === \"\" ||\r\n                document.getElementById(\"lastNameInput\").value.trim() === \"\")\r\n            {\r\n              document.getElementById(\"blankSpacesMessage\").hidden=false;\r\n              hadError = true;\r\n            } else {\r\n              document.getElementById(\"blankSpacesMessage\").hidden=true;\r\n            }\r\n            if(document.getElementById(\"checkboxTOS\").checked === false)\r\n            {\r\n              document.getElementById(\"uncheckedTOS\").hidden=false;\r\n              hadError = true;\r\n            } else {\r\n              document.getElementById(\"uncheckedTOS\").hidden=true;\r\n            }\r\n            if(hadError === true)\r\n            {\r\n              return;\r\n            }\r\n            checkForInvalid(document.getElementById(\"usernameInput\").value.trim()).then(usernameInvalidity =>\r\n            {\r\n              checkForInvalid(document.getElementById(\"emailInput\").value.trim()).then(emailInvalidity =>\r\n              {\r\n                checkForInvalid(document.getElementById(\"passwordInput\").value.trim()).then(passwordInvalidity =>\r\n                {\r\n                  checkForInvalid(document.getElementById(\"firstNameInput\").value.trim()).then(firstNameInvalidity =>\r\n                  {\r\n                    checkForInvalid(document.getElementById(\"lastNameInput\").value.trim()).then(lastNameInvalidity =>\r\n                    {\r\n                      var validity = !usernameInvalidity && !emailInvalidity && !passwordInvalidity && !firstNameInvalidity && !lastNameInvalidity;\r\n                      console.log(validity);\r\n                      if(validity)\r\n                      {\r\n                        register(document.getElementById(\"usernameInput\").value,\r\n                         document.getElementById(\"emailInput\").value,\r\n                         document.getElementById(\"passwordInput\").value,\r\n                         document.getElementById(\"firstNameInput\").value,\r\n                         document.getElementById(\"lastNameInput\").value).then(response => {\r\n                           if(response.result === \"true\")\r\n                           {\r\n                             // registration was successful\r\n                             window.localStorage.setItem(\"Razzlers_Username\", document.getElementById(\"usernameInput\").value);\r\n                             window.localStorage.setItem(\"Razzlers_Subscribed_Shows\", 0);\r\n                             window.localStorage.setItem(\"Razzlers_Subscribed_Movies\", 0);\r\n                             window.location.href='/';\r\n                           }\r\n                           else if(response.result === \"duplicate\")\r\n                           {\r\n                             document.getElementById(\"duplicateUsername\").hidden = false;\r\n                           } else {\r\n                             // display error, reprompt for information\r\n                             document.getElementById(\"invalidMessage\").hidden = false;\r\n                           }\r\n                         });\r\n                      } else {\r\n                        document.getElementById(\"invalidCharacters\").hidden = false;\r\n                      }\r\n                    });\r\n                  });\r\n                });\r\n              });\r\n            });\r\n          }}>Register</button>\r\n        <button className=\"button2\" id=\"toLoginPageButton\" onClick={() => window.location.href='login'}>Login</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction checkForInvalid(input)\r\n{\r\n  return new Promise(function(resolve, reject)\r\n  {\r\n    var containsInvalid = false;\r\n    if(input.length > 32)\r\n    {\r\n      containsInvalid = true;\r\n    }\r\n    for(var i = 0; i < input.length; i++)\r\n    {\r\n      if(input.charCodeAt(i) < 48 && input.charCodeAt(i) !== 46)\r\n      {\r\n        containsInvalid = true;\r\n      }\r\n      else if(input.charCodeAt(i) > 57 && input.charCodeAt(i) < 64)\r\n      {\r\n        // : - @\r\n        containsInvalid = true;\r\n      }\r\n      else if(input.charCodeAt(i) > 90 && input.charCodeAt(i) < 97)\r\n      {\r\n        // [ - `\r\n        containsInvalid = true;\r\n      }\r\n      else if(input.charCodeAt(i) > 122)\r\n      {\r\n        containsInvalid = true;\r\n      }\r\n    }\r\n    resolve(containsInvalid);\r\n  });\r\n}\r\n\r\n//  function for attempting to register the user to the DB\r\nfunction register(inUsername, inEmail, inPassword, inFirstName, inLastName)\r\n{\r\n  return new Promise(function(resolve, reject)\r\n  {\r\n    var data = '{\"username\": \"' + inUsername + '\", \"password\": \"' + inPassword + '\", \"email\": \"' + inEmail + '\", \"first_name\": \"' + inFirstName + '\", \"last_name\": \"' + inLastName + '\"}';\r\n    data = JSON.parse(data);\r\n    var transport = {\r\n      headers: {\r\n        'Content-Type': \"application/json\"\r\n      },\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data)\r\n    };\r\n    const url = \"//razzlers.me:3001/api/register\";\r\n    fetch(url, transport).then(response => response.json()).then(json =>\r\n      {\r\n        // needs to return true or false based on if registration is successful\r\n        // if true, return true and set username in localStorage\r\n        // if false, return what went wrong, if multiple things, put inside array[]\r\n        resolve(json);\r\n      });\r\n  });\r\n}\r\n\r\nexport default SignUp\r\n"]},"metadata":{},"sourceType":"module"}